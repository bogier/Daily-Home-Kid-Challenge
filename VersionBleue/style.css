:root {
  --primary: #12468B;
  --primary-light: #1e63d1;
  --secondary: #00b388;
  --danger: #e53935;
  --bg-light: #f7f8fb;
  --card-bg: #fff;
  --radius: 12px;
  --shadow: 0 4px 10px rgba(0,0,0,0.08);
  --font-main: 'Open Sans', Arial, sans-serif;
}

* { box-sizing: border-box; margin:0; padding:0; }
body { font-family: var(--font-main); background: var(--bg-light); }
button { cursor:pointer; }
img { max-width:100%; }

.app-header {
  display:flex; align-items:center;
  padding:.8rem;
  background:#fff;
  box-shadow:var(--shadow);
}
.app-header h1 { flex:1; text-align:center; font-size:1.1rem; }
.menu-btn { background:none; border:none; font-size:1.6rem; color:var(--primary); }

/* Sidebar */
.sidebar {
  position:fixed; top:0; left:0;
  width:280px; height:100%;
  background:linear-gradient(180deg,var(--primary),var(--primary-light));
  color:#fff;
  transform:translateX(-100%);
  transition:.3s;
  z-index:200;
  display:flex; flex-direction:column;
}
.sidebar.show { transform:translateX(0); }
.sidebar h2 { padding:1rem; font-size:1.2rem; }
.sidebar-grabber {
  width:40px; height:5px;
  background:rgba(255,255,255,0.6);
  border-radius:3px; margin:.5rem auto;
}
.sidebar-content { flex:1; overflow-y:auto; }

.nav-list { list-style:none; padding:0; }
.nav-list li { padding:.9rem 1rem; cursor:pointer; }
.nav-list li:hover { background:rgba(255,255,255,.15); }

/* Rubriques rapides (ajout/import/exemple) */
.nav-list li.quick {
  padding:.5rem 1rem;
  font-size:.9rem;
  opacity:0.9;
}

/* Avatars */
.avatar {
  width:24px; height:24px;
  border-radius:50%;
  margin-right:.3rem;
}

/* Badge enfant actif */
.child-accordion.active h3 {
  background:rgba(255,255,255,0.15);
  border-left:3px solid var(--secondary);
}
.child-accordion.active h3::after {
  content:"Actif";
  font-size:.65rem;
  color:var(--secondary);
  margin-left:.3rem;
  font-weight:bold;
}

/* Accordéon enfants ultra compact ++ */
.child-accordion {
  border-bottom: 1px solid rgba(255,255,255,0.15);
  margin: 0;
}
.child-accordion h3 {
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:.15rem .4rem;   /* minuscule espace */
  font-size:.75rem;
  line-height:1;
  cursor:pointer;
  min-height:20px;        /* réduit au strict minimum */
}
.child-accordion .options {
  display:none;
  flex-direction:column;
  background:rgba(255,255,255,0.05);
}
.child-accordion.open .options { display:flex; }
.child-accordion .options li {
  padding:.15rem .4rem;   /* quasi serré */
  font-size:.7rem;
  line-height:1;
  border-bottom:1px solid rgba(255,255,255,0.08);
  min-height:18px;        /* minimum cliquable */
}
.child-accordion .options li:last-child { border-bottom:none; }

/* Vues */
.view { display:none; padding:1rem; }
.view.active { display:block; }
.view-header { display:flex; justify-content:space-between; align-items:center; padding:.6rem; }

.tabs { display:flex; gap:.4rem; }
.tabs button {
  border:none; padding:.5rem .9rem;
  border-radius:var(--radius);
  background:#e5e7eb;
}
.tabs button.active { background:var(--primary); color:#fff; }

.table-wrapper { overflow-x:auto; }
table {
  width:100%; border-collapse:collapse;
  background:var(--card-bg);
  box-shadow:var(--shadow);
}
th,td {
  border:1px solid #ddd;
  padding:.6rem;
  text-align:center;
  font-size:.9rem;
}
thead th { background:#f1f5f9; }

/* Calendrier */
.calendar-month {
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:4px; padding:.5rem;
}
.calendar-cell {
  background:#fff;
  border-radius:8px;
  min-height:60px;
  padding:.4rem;
  box-shadow:var(--shadow);
  position:relative;
}
.calendar-cell .date {
  position:absolute;
  top:4px; right:6px;
  font-size:.7rem; color:#666;
}
.calendar-cell .percent {
  text-align:center;
  font-weight:600;
  margin-top:1rem;
}

/* Résultats + puzzle */
.result-actions {
  display:flex; justify-content:center; gap:1rem; margin-bottom:.6rem;
}
.result-actions button {
  border:none; border-radius:50%;
  width:42px; height:42px;
  color:#fff; font-size:1.3rem;
  background:var(--primary);
}
.result-actions button.delete { background:var(--danger); }

.puzzle-container {
  position:relative; display:grid;
  width:100%; max-width:400px;
  aspect-ratio:1/1;
  border-radius:var(--radius);
  overflow:hidden; margin:auto;
  box-shadow:var(--shadow);
}
.puzzle-piece { background:rgba(255,255,255,.95); transition:all .6s; }
.puzzle-piece.revealed { opacity:0; transform:scale(.9); }

.progress-container {
  width:100%; max-width:400px; height:10px;
  background:#eee; border-radius:5px;
  margin:1rem auto;
}
.progress-bar {
  height:100%; width:0;
  background:var(--secondary);
  transition:width .4s;
}

/* Historique */
.row-average {
  background:#f1f5f9;
  font-weight:bold;
  color:var(--primary);
}
